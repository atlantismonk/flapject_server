{"version":3,"sources":["../app.js"],"names":["global","_args","app","on","err","ctx","console","error","use","keys"],"mappings":";;;;;;;AAMA;;;;AAIA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA;;;;;;AAXAA,OAAOC,KAAP,uB,CAAqB;;;AAPrB;;;;;;AAU6B;;;AAU7B,IAAIC,MAAM,mBAAV;;AAEA;;;AAGA,0BAAQA,GAAR;AACAA,IAAIC,EAAJ,CAAO,OAAP,EAAe,UAASC,GAAT,EAAaC,GAAb,EAAkB;AAC7BC,UAAQC,KAAR,CAAc,cAAd,EAA6BH,GAA7B;AACH,CAFD;;AAIA;;;AAGAF,IAAIM,GAAJ,CAAQ,0BAAR;;AAEA;;;AAGA;;AAEA;;;;AAIAN,IAAIO,IAAJ,GAAW,CAAC,QAAD,CAAX,C,CAAsB;AACtBP,IAAIM,GAAJ,CAAQ,0BAAQ,0BAAQN,GAAR,CAAR,CAAR;;AAEA;;;AAGAA,IAAIM,GAAJ,CAAQ,8BAAR;;AAEA;;;AAGA,QAGQN,GAHR,SAAM,uBAAOA,GAAP,CAAN;;QAGQA,G,GAAAA,G","file":"app.js","sourcesContent":["/**\n * Created by Atlantismonk on 2017/1/2.\n * 系统入口\n *\n */\n\nimport _args from './config/arguments.json';\nglobal._args = _args;//导入全局变量\n\n\nimport mongo from './mongo'; //运行链接mongo代码\nimport Koa from 'koa';\nimport onerror from 'koa-onerror';\nimport logger from 'koa-logger';\nimport session from 'koa-session';\nimport convert from 'koa-convert';\nimport bodyParser from 'koa-bodyparser';\n\nimport router from './routers';\n\nlet app = new Koa();\n\n/**\n * 错误信息\n */\nonerror(app);\napp.on('error',function(err,ctx) {\n    console.error('server error',err);\n});\n\n/**\n * 日志\n */\napp.use(logger());\n\n/**\n * 连接mongo\n */\nmongo();\n\n/**\n * 设置 Cookie 签名密钥\n * session\n */\napp.keys = ['secret'];//设置 Cookie 签名密钥\napp.use(convert(session(app)));\n\n/**\n * body解析器\n */\napp.use(bodyParser());\n\n/**\n * 路由入口\n */\napp = router(app);\n\n\nexport {app};"]}